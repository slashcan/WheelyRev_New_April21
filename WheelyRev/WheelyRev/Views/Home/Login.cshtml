@model WheelyRev.Models.Users

@{
    ViewBag.Title = "Login";
}
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="text-center">
                <div class="containerT">
                    <div class="WheelyLogin"><img src="~/Templates/images/WheelyRev-logo-login.png"></div>
                    <h4>Your one-stop shop for premium vehicle parts and services.</h4>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="containerL">
                @using (Html.BeginForm())
                {
                    @Html.AntiForgeryToken()
                    <div class="form-horizontal">
                        <hr />
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                        <div class="form-group">
                            @Html.EditorFor(model => model.username, new { htmlAttributes = new { @class = "form-control username", @placeholder = "Username", @required = true, @style = "width: 280px" } })
                            @Html.ValidationMessageFor(model => model.username, "", new { @class = "text-danger" })
                        </div>

                        <div class="form-group">
                            @Html.EditorFor(model => model.password, new { htmlAttributes = new { @class = "form-control password", @placeholder = "Password", @required = true, @type = "password", @style = "width: 280px" } })
                            @Html.ValidationMessageFor(model => model.password, "", new { @class = "text-danger" })
                        </div>

                        <div class="form-group">
                            <input type="submit" value="Login" class="btn btn-primary btn-lg btn-block" style="width: 280px" />
                            <a style="margin-top: 10px" href="#">Forgot password?</a>
                        </div>
                        <hr style="margin-top: 10px; margin-bottom: 20px; border: none; border-top: 2px solid #ccc;">
                    </div>
                }
                <div>
                    @Html.ActionLink("Sign-up", "Register", null, new { @class = "btn btn-success btn-lg btn-block"})
                </div>
                @if (ViewData["ErrorMessage"] != null)
                {
                    <div class="text-danger" style="margin-top: 5px; margin-bottom: 5px">
                        @ViewData["ErrorMessage"]
                    </div>
                }
            </div>
        </div>
    </div>

    <link href="~/Content/bootstrap.css" rel="stylesheet" type="text/css" />

    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {
        // Check if there's an error message, if so, clear the username textbox and add red border
        var errorMessage = '@ViewData["ErrorMessage"]';
        if (errorMessage !== '') {
            $(".username").val('');
            $(".username").css("border-color", "red");

            $(".password").val('');
            $(".password").css("border-color", "red");
        }
    });
</script>
